<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C·ªù T∆∞·ªõng Online - Game</title>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/game.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="game-container">
        <!-- Header v·ªõi th√¥ng tin ph√≤ng -->
        <div class="game-header">
            <div class="room-info">
                <h2>üèõÔ∏è C·ªù T∆∞·ªõng Online</h2>
                <div class="room-details">
                    <span class="room-code">Ph√≤ng: <strong id="roomCodeDisplay">------</strong></span>
                    <span class="room-status" id="roomStatus">ƒêang ch·ªù ƒë·ªëi th·ªß...</span>
                </div>
            </div>
            <div class="game-controls">
                <button id="copyRoomBtn" class="btn btn-secondary">üìã Copy m√£ ph√≤ng</button>
                <button id="leaveRoomBtn" class="btn btn-danger">üö™ R·ªùi ph√≤ng</button>
            </div>
        </div>

        <!-- Main game area -->
        <div class="game-main">
            <!-- B√†n c·ªù -->
            <div class="chess-section">
                <div class="player-info player-red">
                    <div class="player-avatar">üî¥</div>
                    <div class="player-details">
                        <span class="player-name" id="redPlayerName">Ng∆∞·ªùi ch∆°i ƒê·ªè</span>
                        <span class="player-status">ƒêang ch·ªù...</span>
                    </div>
                    <div class="player-timer" id="redTimer">
                        <span class="timer-label">‚è±Ô∏è</span>
                        <span class="timer-display" id="redTimeDisplay">10:00</span>
                    </div>
                </div>

                <div class="chess-board-container">
                    <div id="chessBoard" class="chess-board">
                        <!-- Board s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JavaScript -->
                    </div>
                    <div class="board-info">
                        <div class="current-turn">
                            <span id="turnIndicator">üî¥ L∆∞·ª£t c·ªßa b·∫°n</span>
                        </div>
                        <div class="game-timer">
                            <span id="gameTimer">‚è±Ô∏è 00:00</span>
                        </div>
                    </div>
                </div>

                <div class="player-info player-black">
                    <div class="player-avatar">‚ö´</div>
                    <div class="player-details">
                        <span class="player-name" id="blackPlayerName">ƒêang ch·ªù ƒë·ªëi th·ªß...</span>
                        <span class="player-status">Ch∆∞a tham gia</span>
                    </div>
                    <div class="player-timer" id="blackTimer">
                        <span class="timer-label">‚è±Ô∏è</span>
                        <span class="timer-display" id="blackTimeDisplay">10:00</span>
                    </div>
                </div>
            </div>

            <!-- Chat v√† th√¥ng tin -->
            <div class="info-section">
                <div class="game-info">
                    <h3>üìä Th√¥ng tin tr·∫≠n ƒë·∫•u</h3>
                    <div class="info-item">
                        <span class="info-label">Tr·∫°ng th√°i:</span>
                        <span class="info-value" id="gameStatusInfo">ƒêang ch·ªù ƒë·ªëi th·ªß</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">S·ªë n∆∞·ªõc ƒë√£ ƒëi:</span>
                        <span class="info-value" id="moveCount">0</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Th·ªùi gian:</span>
                        <span class="info-value" id="timeDisplay">00:00</span>
                    </div>
                </div>

                <div class="chat-section">
                    <h3>üí¨ Chat</h3>
                    <div class="chat-messages" id="chatMessages">
                        <div class="system-message">ü§ñ Ch√†o m·ª´ng ƒë·∫øn v·ªõi ph√≤ng game!</div>
                        <div class="system-message">üí° Chia s·∫ª m√£ ph√≤ng ƒë·ªÉ m·ªùi b·∫°n b√® tham gia</div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="chatInput" placeholder="Nh·∫≠p tin nh·∫Øn..." maxlength="200">
                        <button id="sendChatBtn" class="btn btn-primary">G·ª≠i</button>
                    </div>
                </div>

                <div class="invite-section">
                    <h3>üë• M·ªùi b·∫°n b√®</h3>
                    <div class="invite-code">
                        <span>M√£ ph√≤ng c·ªßa b·∫°n:</span>
                        <div class="code-display">
                            <span id="inviteCode">------</span>
                            <button id="copyInviteBtn" class="btn btn-secondary">üìã</button>
                        </div>
                    </div>
                    <p class="invite-text">Chia s·∫ª m√£ n√†y v·ªõi b·∫°n b√® ƒë·ªÉ h·ªç c√≥ th·ªÉ tham gia!</p>
                </div>
            </div>
        </div>

        <!-- Game actions -->
        <div class="game-actions">
            <button id="surrenderBtn" class="btn btn-danger" style="display: none;">üè≥Ô∏è ƒê·∫ßu h√†ng</button>
            <button id="offerDrawBtn" class="btn btn-secondary" style="display: none;">ü§ù Xin h√≤a</button>
            <button id="newGameBtn" class="btn btn-primary" style="display: none;">üéÆ V√°n m·ªõi</button>
        </div>
    </div>

    <!-- Modal th√¥ng b√°o -->
    <div id="gameModal" class="modal">
        <div class="modal-content">
            <h3 id="modalTitle">Th√¥ng b√°o</h3>
            <p id="modalMessage">N·ªôi dung th√¥ng b√°o</p>
            <div class="modal-actions">
                <button id="modalOkBtn" class="btn btn-primary">OK</button>
                <button id="modalCancelBtn" class="btn btn-secondary" style="display: none;">H·ªßy</button>
            </div>
        </div>
    </div>

    <!-- Loading overlay -->
    <div id="gameLoading" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p id="loadingText">ƒêang t·∫£i game...</p>
        </div>
    </div>

    <!-- Audio elements -->
    <audio id="moveSoundEffect" preload="auto">
        <!-- T·∫°o √¢m thanh b·∫±ng Web Audio API -->
    </audio>
    <audio id="captureSoundEffect" preload="auto">
        <!-- T·∫°o √¢m thanh b·∫±ng Web Audio API -->
    </audio>
    <audio id="checkSoundEffect" preload="auto">
        <!-- √Çm thanh chi·∫øu -->
    </audio>
    <audio id="gameOverSound" preload="auto">
        <!-- √Çm thanh k·∫øt th√∫c game -->
    </audio>
    <audio id="tenseMusicBackground" preload="auto" loop>
        <!-- Nh·∫°c n·ªÅn cƒÉng th·∫≥ng cu·ªëi game -->
    </audio>
    <audio id="timerWarningSound" preload="auto">
        <!-- √Çm thanh c·∫£nh b√°o h·∫øt gi·ªù -->
    </audio>

    <script src="./js/chess-game.js"></script>
    <script src="./js/chess-board.js"></script>
    <script src="./js/game-ui.js"></script>
    <script src="./js/audio-manager.js"></script>
</body>
</html>
